---
import type { APIContext } from 'astro';
const { title, date, coords, cover } = Astro.props;
const hasCoords = coords && coords.lat && coords.lon;
---

<article class="post-layout">
  <header>
    <h1>{title}</h1>
    <time datetime={date.toISOString()}>{date.toLocaleDateString()}</time>
    {cover && <img src={cover} alt={title + ' cover'} class="post-cover" />}
  </header>
  <main>
    <slot />
  </main>
  {hasCoords && (
    <section class="post-geomap">
      <!-- GeoMap component will be rendered here if exists -->
      <!-- <GeoMap coords={coords} /> -->
      <p>GeoMap placeholder: {coords.lat}, {coords.lon}</p>
    </section>
  )}
</article>

<style>
.post-layout { max-width: 700px; margin: 0 auto; padding: 2rem; }
.post-cover { width: 100%; max-height: 350px; object-fit: cover; margin-bottom: 1rem; }
.post-geomap { margin-top: 2rem; }
</style>
