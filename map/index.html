<!DOCTYPE html><html lang="en" class="scroll-smooth"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.12.8"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&display=swap" rel="stylesheet"><title>Places Map - The Nomad Upupa</title><link rel="stylesheet" href="/assets/blog.C3FNvMxb.css"></head> <body class="bg-warm-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans antialiased min-h-screen transition-colors duration-200"> <nav class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50"> <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"> <div class="flex justify-between items-center h-16"> <a href="/" class="text-xl font-semibold text-gray-900 dark:text-gray-100 hover:text-warm-600 dark:hover:text-warm-400 transition-colors">
The Nomad Upupa
</a> <!-- Desktop Navigation --> <div class="hidden md:flex items-center space-x-6"> <a href="/" class="text-gray-700 dark:text-gray-300 hover:text-warm-600 dark:hover:text-warm-400 transition-colors">Home</a> <a href="/blog/" class="text-gray-700 dark:text-gray-300 hover:text-warm-600 dark:hover:text-warm-400 transition-colors">Archive</a> <a href="/map/" class="text-gray-700 dark:text-gray-300 hover:text-warm-600 dark:hover:text-warm-400 transition-colors">Map</a> <button id="theme-toggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" aria-label="Toggle theme"> <svg id="theme-toggle-light-icon" class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20"> <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path> </svg> <svg id="theme-toggle-dark-icon" class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20"> <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path> </svg> </button> </div> <!-- Mobile Navigation --> <div class="md:hidden flex items-center space-x-2"> <button id="theme-toggle-mobile" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors" aria-label="Toggle theme"> <svg id="theme-toggle-light-icon-mobile" class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20"> <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path> </svg> <svg id="theme-toggle-dark-icon-mobile" class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20"> <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path> </svg> </button> <button id="mobile-menu-button" class="p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" aria-label="Open menu"> <svg id="menu-open-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> <svg id="menu-close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> </div> </div> <!-- Mobile Menu --> <div id="mobile-menu" class="hidden md:hidden border-t border-gray-200 dark:border-gray-700 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm"> <div class="px-2 pt-2 pb-3 space-y-1"> <a href="/" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-warm-600 dark:hover:text-warm-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md transition-colors">Home</a> <a href="/blog/" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-warm-600 dark:hover:text-warm-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md transition-colors">Archive</a> <a href="/map/" class="block px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-warm-600 dark:hover:text-warm-400 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-md transition-colors">Map</a> </div> </div> </div> </nav> <main class="flex-1">  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12"> <div class="mb-6 sm:mb-8 lg:mb-12"> <h1 class="text-2xl sm:text-3xl md:text-4xl font-serif font-bold text-gray-900 dark:text-gray-100 mb-4">
Places Map
</h1> <p class="text-base sm:text-lg text-gray-600 dark:text-gray-400 mb-4 sm:mb-8">
An emotional geography of the places that have marked my journey.
</p> </div> <div class="grid lg:grid-cols-3 gap-6 lg:gap-8"> <!-- Mappa --> <div class="lg:col-span-2"> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"> <div id="global-map" class="h-64 sm:h-80 md:h-96 lg:h-[600px] relative"> <div id="map-loading" class="absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-700"> <div class="text-gray-500 dark:text-gray-400">Loading map...</div> </div> </div> </div> </div> <!-- Lista dei luoghi --> <div class="space-y-4 lg:order-last order-first"> <h2 class="text-xl font-serif font-semibold text-gray-900 dark:text-gray-100 mb-4">
Reflection Places
</h2> <div class="space-y-3 max-h-64 lg:max-h-[600px] overflow-y-auto"> <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200"> <h3 class="font-serif font-semibold text-gray-900 dark:text-gray-100 mb-2"> <a href="/posts/2024-12-20-andalusia-journey/" class="hover:text-warm-600 dark:hover:text-warm-400 transition-colors"> Andalusian Echoes: From Seville to Granada </a> </h3> <time class="text-sm text-gray-500 dark:text-gray-400 mb-2 block"> December 20, 2024 </time> <button onclick="focusMarker(0)" class="text-sm text-warm-600 dark:text-warm-400 hover:text-warm-700 dark:hover:text-warm-300 transition-colors font-medium" id="location-0">
üìç Loading location...
</button> </div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200"> <h3 class="font-serif font-semibold text-gray-900 dark:text-gray-100 mb-2"> <a href="/posts/2024-11-10-tuscany-multiple-places/" class="hover:text-warm-600 dark:hover:text-warm-400 transition-colors"> A Journey Through Tuscany&#39;s Hidden Gems </a> </h3> <time class="text-sm text-gray-500 dark:text-gray-400 mb-2 block"> November 10, 2024 </time> <button onclick="focusMarker(1)" class="text-sm text-warm-600 dark:text-warm-400 hover:text-warm-700 dark:hover:text-warm-300 transition-colors font-medium" id="location-1">
üìç Loading location...
</button> </div> </div> </div> </div> </div>  <link rel="stylesheet" href="/libs/leaflet/leaflet.css"> <script src="/libs/leaflet/leaflet.js"></script> <style>
        /* Light theme popup styles */
        .leaflet-popup-content-wrapper {
          background: white;
          color: #1f2937;
          border-radius: 8px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .leaflet-popup-tip {
          background: white;
        }
        
        /* Dark theme popup styles */
        .dark .leaflet-popup-content-wrapper {
          background: #374151 !important;
          color: #f3f4f6 !important;
        }
        
        .dark .leaflet-popup-tip {
          background: #374151 !important;
        }
        
        .dark .leaflet-popup-close-button {
          color: #f3f4f6 !important;
        }
        
        .dark .leaflet-popup-close-button:hover {
          color: #d1d5db !important;
        }
        
        /* Dark theme for popup links */
        .dark .leaflet-popup-content a {
          color: #60a5fa !important;
        }
        
        .dark .leaflet-popup-content a:hover {
          color: #93c5fd !important;
        }
        
        /* Improve text contrast in popups */
        .leaflet-popup-content .text-gray-600 {
          color: #4b5563 !important;
        }
        
        .dark .leaflet-popup-content .text-gray-600 {
          color: #d1d5db !important;
        }
        
        /* Modern zoom controls styling */
        .leaflet-control-zoom {
          border: none !important;
          box-shadow: none !important;
        }
        
        .leaflet-control-zoom a {
          background: white !important;
          color: #374151 !important;
          border: none !important;
          border-radius: 8px !important;
          margin: 2px !important;
          width: 32px !important;
          height: 32px !important;
          line-height: 30px !important;
          font-size: 18px !important;
          font-weight: 500 !important;
          transition: all 0.2s ease !important;
        }
        
        .leaflet-control-zoom a:hover {
          background: #f3f4f6 !important;
          color: #1f2937 !important;
          transform: scale(1.05) !important;
        }
        
        .leaflet-control-zoom a.leaflet-disabled {
          background: #f9fafb !important;
          color: #d1d5db !important;
        }
        
        /* Dark theme zoom controls */
        .dark .leaflet-control-zoom {
          box-shadow: none !important;
        }
        
        .dark .leaflet-control-zoom a {
          background: #374151 !important;
          color: #f3f4f6 !important;
        }
        
        .dark .leaflet-control-zoom a:hover {
          background: #4b5563 !important;
          color: #ffffff !important;
        }
        
        .dark .leaflet-control-zoom a.leaflet-disabled {
          background: #1f2937 !important;
          color: #6b7280 !important;
        }
        
        /* Hide attribution */
        .leaflet-control-attribution {
          display: none !important;
        }
        
        /* Fix z-index to not overlap navbar */
        .leaflet-container {
          z-index: 0 !important;
        }
        
        .leaflet-control-container {
          z-index: 10 !important;
        }
        
        #global-map {
          z-index: 0 !important;
          position: relative !important;
        }
        
        /* Mobile-specific zoom controls */
        @media (max-width: 640px) {
          .leaflet-control-zoom a {
            width: 28px !important;
            height: 28px !important;
            line-height: 26px !important;
            font-size: 16px !important;
          }
        }
        
        /* Lighten dark theme tiles */
        .dark .leaflet-tile {
          filter: brightness(1.3) contrast(0.9) !important;
        }
      </style> <script>(function(){const postsWithCoords = [{"id":"2024-12-20-andalusia-journey.md","data":{"title":"Andalusian Echoes: From Seville to Granada","date":"2024-12-20T00:00:00.000Z","coords":{"lat":37.3886,"lon":-5.9823},"locations":[{"name":"Seville","coords":{"lat":37.3886,"lon":-5.9823},"isMain":true},{"name":"C√≥rdoba","coords":{"lat":37.8882,"lon":-4.7794}},{"name":"Granada","coords":{"lat":37.1773,"lon":-3.5986}},{"name":"Ronda","coords":{"lat":36.7423,"lon":-5.1654}}],"cover":"https://images.unsplash.com/photo-1620677368158-32b1293fac36?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","description":"A journey through southern Spain's most captivating cities, where Moorish heritage meets flamenco passion."},"body":"Andalusia calls to the soul with a voice that echoes across centuries. My journey through this sun-drenched region of Spain revealed layers of history, culture, and passion that continue to shape the identity of these extraordinary cities.\n\n## Seville: Heart of Flamenco\n\nThe journey began in Seville, where orange trees line the streets and the cathedral's Giralda tower pierces the sky like a stone prayer. Walking through the Santa Cruz quarter, I lost myself in the maze of narrow alleys where bougainvillea cascades from wrought-iron balconies.\n\n![Seville Cathedral and Giralda Tower](https://images.unsplash.com/photo-1558642891-54be180ea339?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80)\n\nAt night, the city transforms. In a small tablao near the river, I witnessed flamenco in its purest form‚Äînot a performance, but a conversation between guitar, voice, and soul. The dancers moved with a fierce grace that seemed to channel centuries of joy and sorrow.\n\n## C√≥rdoba: The Great Mosque\n\nThe high-speed train carried me north to C√≥rdoba, where the Mezquita stands as one of the world's most extraordinary architectural achievements. Walking through the forest of horseshoe arches, I felt the weight of history‚Äîa Christian cathedral growing from the heart of a Moorish mosque, each civilization adding its own sacred geometry.\n\n![Mezquita Arches in C√≥rdoba](https://images.unsplash.com/photo-1583129133301-0d5c875d2c0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2073&q=80)\n\nThe afternoon light filtering through the arches created patterns on the floor that shifted like prayers made visible. In the courtyard of orange trees, the sound of fountains provided a constant, meditative rhythm.\n\n## Granada: The Last Kingdom\n\nGranada awaited at the foot of the Sierra Nevada, where the Alhambra crowns the hill like a jeweled diadem. The Nasrid palaces revealed themselves slowly, each room a masterpiece of Islamic art and architecture. The intricate muqarnas ceilings seemed to dissolve the boundary between earth and heaven.\n\n![Alhambra Palace in Granada](https://images.unsplash.com/photo-1549144511-f099e773c147?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2128&q=80)\n\nIn the Generalife gardens, water channels guide visitors through spaces designed to engage all the senses. The view across the valley to the white houses of the Albaic√≠n reminded me why the Moors called this place a paradise on earth.\n\n## Ronda: City in the Clouds\n\nMy final stop was Ronda, perched dramatically on a cliff that divides the old and new towns. The Puente Nuevo bridge spans the gorge like a stone rainbow, connecting not just two sides of a city, but two different approaches to living with the landscape.\n\n![Puente Nuevo Bridge in Ronda](https://images.unsplash.com/photo-1555881400-74d7acaacd8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80)\n\nStanding at the edge of the cliff, I watched eagles circle in the valley below. The bullring, one of Spain's oldest, spoke to traditions that run deeper than tourism, rooted in a relationship with nature that is both brutal and beautiful.\n\n## The Thread That Connects\n\nEach city revealed a different facet of Andalusian identity, yet a common thread ran through them all‚Äîa deep appreciation for beauty, whether in architecture, music, food, or the simple pleasure of conversation in a plaza as the sun sets.\n\nThis is a land where past and present dance together, where Christian, Muslim, and Jewish influences have created something entirely unique. The true journey wasn't just between cities, but through the layers of history that continue to shape this corner of Europe where Africa's influence is never far away.","filePath":"src/content/posts/2024-12-20-andalusia-journey.md","digest":"d4090d0e20974daf","rendered":{"html":"<p>Andalusia calls to the soul with a voice that echoes across centuries. My journey through this sun-drenched region of Spain revealed layers of history, culture, and passion that continue to shape the identity of these extraordinary cities.</p>\n<h2 id=\"seville-heart-of-flamenco\">Seville: Heart of Flamenco</h2>\n<p>The journey began in Seville, where orange trees line the streets and the cathedral‚Äôs Giralda tower pierces the sky like a stone prayer. Walking through the Santa Cruz quarter, I lost myself in the maze of narrow alleys where bougainvillea cascades from wrought-iron balconies.</p>\n<p><img src=\"https://images.unsplash.com/photo-1558642891-54be180ea339?ixlib=rb-4.0.3&#x26;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&#x26;auto=format&#x26;fit=crop&#x26;w=2070&#x26;q=80\" alt=\"Seville Cathedral and Giralda Tower\"></p>\n<p>At night, the city transforms. In a small tablao near the river, I witnessed flamenco in its purest form‚Äînot a performance, but a conversation between guitar, voice, and soul. The dancers moved with a fierce grace that seemed to channel centuries of joy and sorrow.</p>\n<h2 id=\"c√≥rdoba-the-great-mosque\">C√≥rdoba: The Great Mosque</h2>\n<p>The high-speed train carried me north to C√≥rdoba, where the Mezquita stands as one of the world‚Äôs most extraordinary architectural achievements. Walking through the forest of horseshoe arches, I felt the weight of history‚Äîa Christian cathedral growing from the heart of a Moorish mosque, each civilization adding its own sacred geometry.</p>\n<p><img src=\"https://images.unsplash.com/photo-1583129133301-0d5c875d2c0e?ixlib=rb-4.0.3&#x26;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&#x26;auto=format&#x26;fit=crop&#x26;w=2073&#x26;q=80\" alt=\"Mezquita Arches in C√≥rdoba\"></p>\n<p>The afternoon light filtering through the arches created patterns on the floor that shifted like prayers made visible. In the courtyard of orange trees, the sound of fountains provided a constant, meditative rhythm.</p>\n<h2 id=\"granada-the-last-kingdom\">Granada: The Last Kingdom</h2>\n<p>Granada awaited at the foot of the Sierra Nevada, where the Alhambra crowns the hill like a jeweled diadem. The Nasrid palaces revealed themselves slowly, each room a masterpiece of Islamic art and architecture. The intricate muqarnas ceilings seemed to dissolve the boundary between earth and heaven.</p>\n<p><img src=\"https://images.unsplash.com/photo-1549144511-f099e773c147?ixlib=rb-4.0.3&#x26;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&#x26;auto=format&#x26;fit=crop&#x26;w=2128&#x26;q=80\" alt=\"Alhambra Palace in Granada\"></p>\n<p>In the Generalife gardens, water channels guide visitors through spaces designed to engage all the senses. The view across the valley to the white houses of the Albaic√≠n reminded me why the Moors called this place a paradise on earth.</p>\n<h2 id=\"ronda-city-in-the-clouds\">Ronda: City in the Clouds</h2>\n<p>My final stop was Ronda, perched dramatically on a cliff that divides the old and new towns. The Puente Nuevo bridge spans the gorge like a stone rainbow, connecting not just two sides of a city, but two different approaches to living with the landscape.</p>\n<p><img src=\"https://images.unsplash.com/photo-1555881400-74d7acaacd8b?ixlib=rb-4.0.3&#x26;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&#x26;auto=format&#x26;fit=crop&#x26;w=2070&#x26;q=80\" alt=\"Puente Nuevo Bridge in Ronda\"></p>\n<p>Standing at the edge of the cliff, I watched eagles circle in the valley below. The bullring, one of Spain‚Äôs oldest, spoke to traditions that run deeper than tourism, rooted in a relationship with nature that is both brutal and beautiful.</p>\n<h2 id=\"the-thread-that-connects\">The Thread That Connects</h2>\n<p>Each city revealed a different facet of Andalusian identity, yet a common thread ran through them all‚Äîa deep appreciation for beauty, whether in architecture, music, food, or the simple pleasure of conversation in a plaza as the sun sets.</p>\n<p>This is a land where past and present dance together, where Christian, Muslim, and Jewish influences have created something entirely unique. The true journey wasn‚Äôt just between cities, but through the layers of history that continue to shape this corner of Europe where Africa‚Äôs influence is never far away.</p>","metadata":{"headings":[{"depth":2,"slug":"seville-heart-of-flamenco","text":"Seville: Heart of Flamenco"},{"depth":2,"slug":"c√≥rdoba-the-great-mosque","text":"C√≥rdoba: The Great Mosque"},{"depth":2,"slug":"granada-the-last-kingdom","text":"Granada: The Last Kingdom"},{"depth":2,"slug":"ronda-city-in-the-clouds","text":"Ronda: City in the Clouds"},{"depth":2,"slug":"the-thread-that-connects","text":"The Thread That Connects"}],"localImagePaths":[],"remoteImagePaths":[],"frontmatter":{"title":"Andalusian Echoes: From Seville to Granada","date":"2024-12-20T00:00:00.000Z","description":"A journey through southern Spain's most captivating cities, where Moorish heritage meets flamenco passion.","coords":{"lat":37.3886,"lon":-5.9823},"locations":[{"name":"Seville","coords":{"lat":37.3886,"lon":-5.9823},"isMain":true},{"name":"C√≥rdoba","coords":{"lat":37.8882,"lon":-4.7794}},{"name":"Granada","coords":{"lat":37.1773,"lon":-3.5986}},{"name":"Ronda","coords":{"lat":36.7423,"lon":-5.1654}}],"cover":"https://images.unsplash.com/photo-1620677368158-32b1293fac36?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},"imagePaths":[]}},"collection":"posts","slug":"2024-12-20-andalusia-journey","mainCoords":{"lat":37.3886,"lon":-5.9823}},{"id":"2024-11-10-tuscany-multiple-places.md","data":{"title":"A Journey Through Tuscany's Hidden Gems","date":"2024-11-10T00:00:00.000Z","coords":{"lat":43.3188,"lon":11.3307},"locations":[{"name":"Siena","coords":{"lat":43.3188,"lon":11.3307},"isMain":true},{"name":"San Gimignano","coords":{"lat":43.4675,"lon":11.0431}},{"name":"Chianti Classico Region","coords":{"lat":43.45,"lon":11.2333}}],"cover":"https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2066&q=80","description":"From the medieval streets of Siena to the vineyards of Chianti, exploring multiple enchanting locations in one unforgettable day."},"body":"Today I embarked on a journey through some of Tuscany's most enchanting locations, each offering its own unique character and timeless beauty.\n\n## Siena: Medieval Majesty\n\nMy day began in Siena, where the medieval architecture still dominates the landscape. Walking through the Piazza del Campo, I was struck by the perfect harmony of the fan-shaped square. The Torre del Mangia reaches toward the sky like a stone finger pointing to eternity.\n\nThe narrow streets wind like ancient rivers, each turn revealing another glimpse of Gothic splendor. Here, time seems to move at the pace of stone and shadow.\n\n## San Gimignano: City of Towers\n\nThe afternoon took me to San Gimignano, the famous \"City of Beautiful Towers.\" From a distance, the medieval skyscrapers create a skyline that could belong to no other place on earth. Each tower tells the story of wealthy families competing for dominance in the 13th century.\n\nWalking through the cobblestone streets, I felt transported to another era. The local Vernaccia wine paired perfectly with the panoramic views from the city walls.\n\n## Chianti: Wine Country Dreams\n\nAs the sun began to set, I found myself in the heart of Chianti Classico country. The rolling hills covered in perfectly manicured vineyards create a landscape that seems painted by the masters. Each vineyard tells a story of generations of winemaking tradition.\n\nThe golden hour light dancing across the vine rows reminded me why this region has inspired artists and writers for centuries.\n\n## Reflections on Movement\n\nThere's something magical about experiencing multiple places in a single day. Each location adds its own note to the symphony of memory, creating a richer, more complex understanding of this extraordinary region.\n\nThe true beauty lies not just in each individual place, but in the journey between them‚Äîthe changing landscapes, the shifting light, the gradual transformation of architecture and culture even within this relatively small area of Tuscany.","filePath":"src/content/posts/2024-11-10-tuscany-multiple-places.md","digest":"02cc5d9b9b75c617","rendered":{"html":"<p>Today I embarked on a journey through some of Tuscany‚Äôs most enchanting locations, each offering its own unique character and timeless beauty.</p>\n<h2 id=\"siena-medieval-majesty\">Siena: Medieval Majesty</h2>\n<p>My day began in Siena, where the medieval architecture still dominates the landscape. Walking through the Piazza del Campo, I was struck by the perfect harmony of the fan-shaped square. The Torre del Mangia reaches toward the sky like a stone finger pointing to eternity.</p>\n<p>The narrow streets wind like ancient rivers, each turn revealing another glimpse of Gothic splendor. Here, time seems to move at the pace of stone and shadow.</p>\n<h2 id=\"san-gimignano-city-of-towers\">San Gimignano: City of Towers</h2>\n<p>The afternoon took me to San Gimignano, the famous ‚ÄúCity of Beautiful Towers.‚Äù From a distance, the medieval skyscrapers create a skyline that could belong to no other place on earth. Each tower tells the story of wealthy families competing for dominance in the 13th century.</p>\n<p>Walking through the cobblestone streets, I felt transported to another era. The local Vernaccia wine paired perfectly with the panoramic views from the city walls.</p>\n<h2 id=\"chianti-wine-country-dreams\">Chianti: Wine Country Dreams</h2>\n<p>As the sun began to set, I found myself in the heart of Chianti Classico country. The rolling hills covered in perfectly manicured vineyards create a landscape that seems painted by the masters. Each vineyard tells a story of generations of winemaking tradition.</p>\n<p>The golden hour light dancing across the vine rows reminded me why this region has inspired artists and writers for centuries.</p>\n<h2 id=\"reflections-on-movement\">Reflections on Movement</h2>\n<p>There‚Äôs something magical about experiencing multiple places in a single day. Each location adds its own note to the symphony of memory, creating a richer, more complex understanding of this extraordinary region.</p>\n<p>The true beauty lies not just in each individual place, but in the journey between them‚Äîthe changing landscapes, the shifting light, the gradual transformation of architecture and culture even within this relatively small area of Tuscany.</p>","metadata":{"headings":[{"depth":2,"slug":"siena-medieval-majesty","text":"Siena: Medieval Majesty"},{"depth":2,"slug":"san-gimignano-city-of-towers","text":"San Gimignano: City of Towers"},{"depth":2,"slug":"chianti-wine-country-dreams","text":"Chianti: Wine Country Dreams"},{"depth":2,"slug":"reflections-on-movement","text":"Reflections on Movement"}],"localImagePaths":[],"remoteImagePaths":[],"frontmatter":{"title":"A Journey Through Tuscany's Hidden Gems","date":"2024-11-10T00:00:00.000Z","description":"From the medieval streets of Siena to the vineyards of Chianti, exploring multiple enchanting locations in one unforgettable day.","coords":{"lat":43.3188,"lon":11.3307},"locations":[{"name":"Siena","coords":{"lat":43.3188,"lon":11.3307},"isMain":true},{"name":"San Gimignano","coords":{"lat":43.4675,"lon":11.0431}},{"name":"Chianti Classico Region","coords":{"lat":43.45,"lon":11.2333}}],"cover":"https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2066&q=80"},"imagePaths":[]}},"collection":"posts","slug":"2024-11-10-tuscany-multiple-places","mainCoords":{"lat":43.3188,"lon":11.3307}}];

        function initializeMap() {
          if (typeof L === 'undefined') {
            setTimeout(initializeMap, 100);
            return;
          }
          const posts = postsWithCoords.map(post => ({
            title: post.data.title,
            slug: post.slug,
            coords: post.mainCoords, // Use main coordinates only
            date: post.data.date,
            cover: post.data.cover
          }));

          // Remove loading indicator
          const loadingEl = document.getElementById('map-loading');
          if (loadingEl) loadingEl.remove();

          // Initialize the map with center based on first post or default to Italy
          const firstPost = posts[0];
          const initialCenter = firstPost ? [firstPost.coords.lat, firstPost.coords.lon] : [41.9028, 12.4964];
          const map = L.map('global-map').setView(initialCenter, 6);

          // Light and dark tile layers
          const lightTiles = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors ¬© <a href="https://carto.com/attributions">CARTO</a>'
          });
          
          const darkTiles = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors ¬© <a href="https://carto.com/attributions">CARTO</a>'
          });
          
          // Function to update map theme
          function updateMapTheme() {
            const isDark = document.documentElement.classList.contains('dark');
            if (isDark) {
              map.removeLayer(lightTiles);
              darkTiles.addTo(map);
            } else {
              map.removeLayer(darkTiles);
              lightTiles.addTo(map);
            }
          }
          
          // Set initial theme
          updateMapTheme();
          
          // Listen for theme changes
          const observer = new MutationObserver(updateMapTheme);
          observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['class']
          });

          // Create custom marker icons
          const lightIcon = L.divIcon({
            className: 'custom-marker light-marker',
            html: `
              <div style="
                width: 18px; 
                height: 18px; 
                background: #dc2626; 
                border: 2px solid white; 
                border-radius: 50%; 
                box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              ">
              </div>
            `,
            iconSize: [18, 18],
            iconAnchor: [9, 9]
          });

          const darkIcon = L.divIcon({
            className: 'custom-marker dark-marker',
            html: `
              <div style="
                width: 18px; 
                height: 18px; 
                background: #e5e7eb; 
                border: 2px solid #374151; 
                border-radius: 50%; 
                box-shadow: 0 2px 8px rgba(0,0,0,0.4);
              ">
              </div>
            `,
            iconSize: [18, 18],
            iconAnchor: [9, 9]
          });

          // Array to track markers
          const markers = [];

          // Add marker for each post
          posts.forEach((post, index) => {
            const isDark = document.documentElement.classList.contains('dark');
            const icon = isDark ? darkIcon : lightIcon;
            const marker = L.marker([post.coords.lat, post.coords.lon], { icon: icon }).addTo(map);
            
            const popupContent = `
              <div class="p-2 max-w-xs">
                ${post.cover ? `<img src="${post.cover}" alt="${post.title}" class="w-full h-24 object-cover rounded mb-2">` : ''}
                <h3 class="font-semibold text-sm mb-1">${post.title}</h3>
                <p class="text-xs text-gray-600 mb-2">${new Date(post.date).toLocaleDateString('en-US')}</p>
                <a href="/posts/${post.slug}/" class="text-xs text-blue-600 hover:text-blue-800">Read more ‚Üí</a>
              </div>
            `;
            
            marker.bindPopup(popupContent);
            markers.push(marker);
            
            // Reverse geocoding to get location name for main coordinates
            fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${post.coords.lat}&lon=${post.coords.lon}&zoom=10&addressdetails=1`)
              .then(response => response.json())
              .then(data => {
                const locationButton = document.getElementById(`location-${index}`);
                if (locationButton && data.address) {
                  // Try to get city, town, village, or municipality
                  const location = data.address.city || 
                                 data.address.town || 
                                 data.address.village || 
                                 data.address.municipality || 
                                 data.address.county ||
                                 'Unknown location';
                  locationButton.textContent = `üìç ${location}`;
                }
              })
              .catch(() => {
                const locationButton = document.getElementById(`location-${index}`);
                if (locationButton) {
                  locationButton.textContent = `üìç View on map`;
                }
              });
          });

          // Global function to focus on a marker
          window.focusMarker = (index) => {
            const post = posts[index];
            const marker = markers[index];
            
            map.setView([post.coords.lat, post.coords.lon], 15);
            marker.openPopup();
          };

          // Function to update all markers
          function updateAllMarkers() {
            const isDark = document.documentElement.classList.contains('dark');
            const icon = isDark ? darkIcon : lightIcon;
            
            markers.forEach(marker => {
              marker.setIcon(icon);
            });
          }

          // Update markers when theme changes (extend existing function)
          const originalUpdateMapTheme = updateMapTheme;
          updateMapTheme = function() {
            originalUpdateMapTheme();
            updateAllMarkers();
          };

          // Fit bounds to show all markers
          if (markers.length > 1) {
            const group = new L.featureGroup(markers);
            map.fitBounds(group.getBounds().pad(0.1));
          }
        }
        
        // Try multiple loading strategies
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', initializeMap);
        } else {
          initializeMap();
        }
        
        // Fallback
        window.addEventListener('load', initializeMap);
      })();</script>  </main> <footer class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-16"> <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"> <div class="text-center text-gray-500 dark:text-gray-400 text-sm"> <p>&copy; 2025 The Nomad Upupa. A timeless reflective journal.</p> </div> </div> </footer> <script type="module">const o=document.getElementById("theme-toggle"),i=document.getElementById("theme-toggle-mobile"),e=document.documentElement,c=localStorage.getItem("theme");c?e.classList.toggle("dark",c==="dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&e.classList.add("dark");o?.addEventListener("click",()=>{e.classList.toggle("dark"),localStorage.setItem("theme",e.classList.contains("dark")?"dark":"light")});i?.addEventListener("click",()=>{e.classList.toggle("dark"),localStorage.setItem("theme",e.classList.contains("dark")?"dark":"light")});const l=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu"),s=document.getElementById("menu-open-icon"),d=document.getElementById("menu-close-icon");l?.addEventListener("click",()=>{t?.classList.contains("hidden")?(t?.classList.remove("hidden"),s?.classList.add("hidden"),d?.classList.remove("hidden")):(t?.classList.add("hidden"),s?.classList.remove("hidden"),d?.classList.add("hidden"))});const a=t?.querySelectorAll("a");a?.forEach(n=>{n.addEventListener("click",()=>{t?.classList.add("hidden"),s?.classList.remove("hidden"),d?.classList.add("hidden")})});</script></body></html>